<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no">
    <title>软件学院课程质量评价系统</title>

    <link href="https://fonts.googleapis.com/css?family=Nunito:400,600,700" rel="stylesheet">
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <link href="assets/css/plugins.css" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" type="text/css" href="plugins/table/datatable/datatables.css">
    <link rel="stylesheet" type="text/css" href="assets/css/forms/theme-checkbox-radio.css">
    <link rel="stylesheet" type="text/css" href="plugins/table/datatable/dt-global_style.css">
    <link href="plugins/animate/animate.css" rel="stylesheet" type="text/css"/>
    <link href="assets/css/scrollspyNav.css" rel="stylesheet" type="text/css"/>
    <link href="plugins/sweetalerts/sweetalert2.min.css" rel="stylesheet" type="text/css"/>
    <link href="plugins/sweetalerts/sweetalert.css" rel="stylesheet" type="text/css"/>
    <link href="assets/css/components/custom-sweetalert.css" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" type="text/css" href="assets/css/forms/theme-checkbox-radio.css">
</head>
<body data-spy="scroll" data-target="#navSection" data-offset="140">

<div class="header-container fixed-top">
    <header class="header navbar navbar-expand-sm">

        <ul class="navbar-item theme-brand flex-row  text-center">
            <li class="nav-item theme-logo">
                <a href="/index">
                    <img src="assets/img/院徽.png" class="navbar-logo" alt="logo" style="width: 45px;">
                </a>
            </li>
            <li class="nav-item theme-text">
                <a href="/index" class="nav-link"> 软件学院课程质量评价系统 </a>
            </li>
        </ul>

        <ul class="navbar-item flex-row ml-md-auto">
            <li class="nav-item dropdown notification-dropdown">
                <a href="javascript:void(0);" class="nav-link dropdown-toggle" id="notificationDropdown"
                   data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                         class="feather feather-bell">
                        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                        <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                    </svg>
                    <span class="badge badge-success"></span>
                </a>
                <div class="dropdown-menu position-absolute" aria-labelledby="notificationDropdown">
                    <div class="notification-scroll">

                        <div class="dropdown-item">
                            <div class="media">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                     fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                     stroke-linejoin="round" class="feather feather-heart">
                                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                                </svg>
                                <div class="media-body">
                                    <div class="notification-para"><span class="user-name">Shaun Park</span> likes your
                                        photo.
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </li>

            <li class="nav-item dropdown user-profile-dropdown">
                <a href="javascript:void(0);" class="nav-link dropdown-toggle user" id="userProfileDropdown"
                   data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                    <img src="assets/img/profile-26.jpeg.jpg" alt="avatar">
                    <div th:text="${session.user.studentName}"
                         style="float: right;margin-left: 10px;font-size: 15px !important;color: #e0e6ed !important;"></div>
                </a>
                <div class="dropdown-menu position-absolute" aria-labelledby="userProfileDropdown">
                    <div class="dropdown-item">
                        <a class="" href="/index">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" class="feather feather-user">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                            个人信息</a>
                    </div>

                    <div class="dropdown-item">
                        <a class="" href="/">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" class="feather feather-log-out">
                                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                                <polyline points="16 17 21 12 16 7"></polyline>
                                <line x1="21" y1="12" x2="9" y2="12"></line>
                            </svg>
                            退出登录</a>
                    </div>
                </div>
            </li>

        </ul>
    </header>
</div>

<div class="sub-header-container">
    <header class="header navbar navbar-expand-sm">
        <a href="javascript:void(0);" class="sidebarCollapse" data-placement="bottom">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                 class="feather feather-menu">
                <line x1="3" y1="12" x2="21" y2="12"></line>
                <line x1="3" y1="6" x2="21" y2="6"></line>
                <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
        </a>

        <ul class="navbar-nav flex-row">
            <li>
                <div class="page-header">

                    <nav class="breadcrumb-one" aria-label="breadcrumb">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item">课程评价</li>
                        </ol>
                    </nav>

                </div>
            </li>
        </ul>
    </header>
</div>

<div class="main-container" id="container">

    <div class="overlay"></div>
    <div class="search-overlay"></div>

    <div class="sidebar-wrapper sidebar-theme">

        <nav id="sidebar">
            <div class="shadow-bottom"></div>

            <ul class="list-unstyled menu-categories" id="accordionExample">
                <li class="menu">
                    <a href="/index" class="dropdown-toggle">
                        <div class="">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" class="feather feather-clipboard">
                                <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
                                <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                            </svg>
                            <span>个人信息</span>
                        </div>
                    </a>
                </li>
                <li class="menu">
                    <a href="/studentCourse" data-active="true" class="dropdown-toggle">
                        <div class="">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" class="feather feather-clipboard">
                                <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
                                <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                            </svg>
                            <span>课程评价</span>
                        </div>
                    </a>
                </li>
            </ul>

        </nav>

    </div>

    <div id="content" class="main-content">
        <div class="container">
            <div class="container">
                <div id="navSection" data-spy="affix" class="nav  sidenav">
                    <div class="sidenav-content">
                        <a th:href="'#'+${index0.indexId}" th:each="index0:${indexList}" th:text="${index0.indexName}"
                           class="nav-link"></a>
                        <a href="#advice"
                           class="active nav-link">意见或建议</a>
                    </div>
                </div>
                <div class="row layout-top-spacing">

                    <div class="col-lg-12 d-flex justify-content-between">
                        <div class="seperator-header">
                            <h4 class="text-primary" th:text="'当前评价课程：'+${courseName}"></h4>
                        </div>
                        <div class="seperator-header">
                            <a href="/studentCourse"><h4 class="text-primary">返回>></h4></a>
                        </div>
                    </div>
                    <form class="col-lg-12 layout-spacing" action="/submitStuEvaluation" method="post" onsubmit="return submitCheck();">
                        <div th:each="index1:${indexList}" th:id="${index1.indexId}"
                             class="statbox widget box box-shadow" style="margin-bottom: 10px">
                            <div class="widget-header">
                                <h4 th:text="${index1.indexName}"></h4>
                            </div>
                            <div class="widget-content widget-content-area">
                                <div th:each="index2:${index1.seedList}">
                                    <h6 class="text-info" th:text="${index2.indexName}"></h6>
                                    <ol>
                                        <div th:each="index3:${index2.seedList}">
                                            <input name="personNo" th:value="${session.user.studentNo}" hidden>
                                            <input name="courseId" th:value="${courseId}" hidden>
                                            <input name="midId" th:value="${midId}" hidden>
                                            <li th:text="${index3.indexName}"
                                                class="mb-1"></li>
                                            <div id="score" class="n-chk">
                                                <label class="new-control new-radio new-radio-text radio-primary">
                                                    <input type="checkbox" th:class="'new-control-input '+${index3.indexId}"
                                                           name="indexScore" value="100" >
                                                    <span class="new-control-indicator"></span><span
                                                        class="new-radio-content" style="font-weight: normal">优秀</span>
                                                </label>
                                                <label class="new-control new-radio new-radio-text radio-primary">
                                                    <input type="checkbox" th:class="'new-control-input '+${index3.indexId}"
                                                           name="indexScore" value="80" >
                                                    <span class="new-control-indicator"></span><span
                                                        class="new-radio-content" style="font-weight: normal">良好</span>
                                                </label>
                                                <label class="new-control new-radio new-radio-text radio-primary">
                                                    <input type="checkbox" th:class="'new-control-input '+${index3.indexId}"
                                                           name="indexScore" value="60" >
                                                    <span class="new-control-indicator"></span><span
                                                        class="new-radio-content" style="font-weight: normal">一般</span>
                                                </label>
                                                <label class="new-control new-radio new-radio-text radio-primary">
                                                    <input type="checkbox" th:class="'new-control-input '+${index3.indexId}"
                                                           name="indexScore" value="40" >
                                                    <span class="new-control-indicator"></span><span
                                                        class="new-radio-content" style="font-weight: normal">差</span>
                                                </label>
                                                <label class="new-control new-radio new-radio-text radio-primary">
                                                    <input type="checkbox" th:class="'new-control-input '+${index3.indexId}"
                                                           name="indexScore" value="0" >
                                                    <span class="new-control-indicator"></span><span
                                                        class="new-radio-content" style="font-weight: normal">极差</span>
                                                </label>
                                            </div>
                                        </div>
                                    </ol>
                                </div>
                            </div>
                        </div>
                        <div id="advice"
                             class="statbox widget box box-shadow" style="margin-bottom: 10px">
                            <div class="widget-header">
                                <h4>意见或建议</h4>
                            </div>
                            <div class="widget-content widget-content-area">
                                <div class="input-group mb-4">
                                    <textarea class="form-control" aria-label="With textarea" placeholder="请输入您的意见或建议……"
                                              name="evaluationAdvice"></textarea>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-12 d-flex justify-content-between">
                            <button class="btn"><i class="flaticon-cancel-12"></i><a href="/studentCourse">取消</a>
                            </button>
                            <button class="btn btn-primary" type="submit">提交</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="footer-wrapper">
            <div class="footer-section f-section-1">
                <p class="">Copyright © 2020-Design By <a href="https://blog.csdn.net/qq_40947493">easysir10</a>.</p>
            </div>
            <div class="footer-section f-section-2">
                <p class="">Coded with
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                         class="feather feather-heart">
                        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                    </svg>
                </p>
            </div>
        </div>
    </div>

</div>

<input id="message" th:value="${message}" hidden>
<input id="indexSize" th:value="${indexSize}" hidden>
<script src="assets/js/libs/jquery-3.1.1.min.js"></script>
<script src="assets/js/app.js"></script>
<script src="assets/js/custom.js"></script>
<script src="assets/js/scrollspyNav.js"></script>

<script src="bootstrap/js/popper.min.js"></script>
<script src="bootstrap/js/bootstrap.min.js"></script>

<script src="plugins/perfect-scrollbar/perfect-scrollbar.min.js"></script>
<script src="plugins/sweetalerts/sweetalert2.min.js"></script>
<script src="plugins/sweetalerts/custom-sweetalert.js"></script>
<script src="plugins/highlight/highlight.pack.js"></script>
<script>
    $(document).ready(function () {
        App.init();
    });

    var msg = $("#message").val();
    if (msg !== '') {
        swal(msg)
    }


    $(":checkbox").click(function () {
        var classname = $(this).attr('class');
        classname = classname.substr(18,2);
        $("." + classname).prop("checked", false);
        $(this).prop("checked", true);
    });

    function submitCheck() {
        var len =$("#indexSize").val();
        var checked = $("input[name='indexScore']:checked");
        if (checked.length < len) {
            swal('请勾选所有问题后提交！');
            return false;
        }else {
            return true;
        }
    }
</script>
</body>
</html>
